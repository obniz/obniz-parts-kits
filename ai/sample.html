<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sample</title>
  <script src="opencv3.4/opencv.js"></script>
  <script src="index.js"></script>
  <script src="../ui/index.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.13.5"> </script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet@0.2.2"> </script>
</head>
<body>

<div id="OBNIZ_OUTPUT"></div>

<script>
  (async function(){

    // weather forecast
    const weather = await _ai.getWeather('Tokyo');
    console.log(weather);

    // say
    await _ai.say(weather);

    // Vision
    await _ai.startCamWait();
    
    while(true) {
      // face detection
      if (_ai.isFaceInside()) {
        console.log('face x: ' + _ai.positionOfFace()); // -1 to 1. notfound = 0
        console.log('face d: ' + _ai.distanceOfFace()); // 0 to 100. notfound = 0
      }
      
      // classify
      console.log(await _ai.classify());
      
      // white line detection
      console.log(_ai.positionOfWhiteline());
      
      await new Promise((resolve)=>{setTimeout(resolve, 1)})
    }
  })();

</script>

</body>
</html>