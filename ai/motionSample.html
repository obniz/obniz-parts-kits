<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sample</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">

  <script src="opencv3.4/opencv.js"></script>
  <script src="howler2.1.2/howler.js"></script>
  <script src="./clmtrackr/clmtrackr.js"> </script>
  <script src="./clmtrackr/emotion_classifier.js"> </script>
  <script src="./clmtrackr/emotionmodel.js"> </script>
  <script src="./clmtrackr/model_pca_20_svm.js"> </script>
  <script src="index.js"></script>


</head>
<body>

<div id="OBNIZ_OUTPUT"></div>

<button onclick="request()">request</button>
<script>
  function request(){
    _ai.startMotionWait()
  }
  window.onload = function(){

    (async function(){

      await _ai.startMotionWait();
      while(true) {
        if(_ai.isShaked()){
          document.body.style.backgroundColor = "red";
        }else{
          document.body.style.backgroundColor = "white";
        }
        console.log("shaked : "  + _ai.isShaked());
        await new Promise((resolve)=>{setTimeout(resolve, 100)})
      }
    })();
  }




</script>

</body>
</html>